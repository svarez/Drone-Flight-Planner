(this["webpackJsonpdrone-flight-planner"]=this["webpackJsonpdrone-flight-planner"]||[]).push([[0],{89:function(t,e,n){},90:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n(23),r=n.n(i),a=n(26),o=n(57),s=n(14),d="[Flight] Add",x="[Flight] Remove",l="[Flight] Active",u="[Flight] Add New Point",j=[{fid:1633129061942,active:!0,points:[{x:115,y:113},{x:91,y:168},{x:112,y:181},{x:134,y:170},{x:140,y:181},{x:82,y:322},{x:132,y:344},{x:197,y:183},{x:219,y:192},{x:162,y:338},{x:159,y:353},{x:176,y:353},{x:224,y:334},{x:212,y:302},{x:254,y:289},{x:267,y:325},{x:307,y:302},{x:297,y:273},{x:334,y:257}]},{fid:1633129067188,active:!1,points:[{x:204,y:76},{x:135,y:153},{x:140,y:180},{x:203,y:148},{x:213,y:184},{x:152,y:201},{x:132,y:221},{x:169,y:233},{x:176,y:253},{x:149,y:257},{x:137,y:291},{x:162,y:307},{x:132,y:377},{x:103,y:368},{x:73,y:437},{x:104,y:451}]}],f=Object(o.a)({flights:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:var n=e.payload,c=n.fid,i=n.points;return[].concat(Object(s.a)(t),[{fid:c,points:i}]);case l:return t.map((function(t){return t.active=t.fid===e.payload,t}));case x:return t.filter((function(t){return t.fid!==e.payload}));case u:return t.map((function(t){return t.points=t.fid===e.payload.fid?[].concat(Object(s.a)(t.points),[e.payload.points]):t.points,t}));default:return t}}}),b=Object(o.b)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),y=n(9),h=function(t){return{type:l,payload:t}},O=n(122),p=n(117),v=n(121),g=n(123),w=n(124),m=n(125),E=n(119),_=n(126),k=n(116),S=n(127),F=n(129),D=n(72),R=n.n(D),A=n(73),C=n.n(A),N=n(2),T=function(){var t=Object(a.c)((function(t){return t})).flights,e=Object(a.b)(),n=function(t){return e(function(t){return{type:x,payload:t}}(t))};return Object(N.jsxs)(p.a,{variant:"permanent",sx:Object(y.a)({width:240,flexShrink:0,zIndex:900},"& .MuiDrawer-paper",{width:240,boxSizing:"border-box"}),children:[Object(N.jsx)(v.a,{}),Object(N.jsx)(O.a,{sx:{overflow:"auto"},children:Object(N.jsxs)(g.a,{sx:{width:"100%",maxWidth:360},component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(N.jsx)(w.a,{component:"div",id:"nested-list-subheader",children:Object(N.jsx)("h2",{children:"Flights"})}),children:[Object(N.jsx)(m.a,{}),t.map((function(t){var c=t.fid,i=t.active;return Object(N.jsx)(E.a,{secondaryAction:Object(N.jsx)(_.a,{onClick:function(){return n(c)},edge:"end","aria-label":"delete",children:Object(N.jsx)(R.a,{})}),children:Object(N.jsx)(k.a,{selected:i,onClick:function(){return function(t){return e(h(t))}(c)},children:Object(N.jsx)(S.a,{primary:"F-".concat(c)})})},c)})),Object(N.jsx)(m.a,{}),Object(N.jsx)(E.a,{children:Object(N.jsxs)(k.a,{onClick:function(){var t=Date.now();return e(function(t){return{type:d,payload:{fid:t,points:[],active:!0}}}(t)),e(h(t))},children:[Object(N.jsx)(F.a,{children:Object(N.jsx)(C.a,{})}),Object(N.jsx)(S.a,{primary:"Add a new flight"})]})})]})})]})},X=n(13),I=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=[];e.map((function(e){var i=c&&c,r=i.x,a=i.y,o=e.x,s=e.y;return(c=e).x?W(t,{x:r,y:a,x1:o,y1:s},n):null}))},W=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=e.x,i=e.y,r=e.x1,a=e.y1,o=n.color,s=void 0===o?"black":o,d=n.width,x=void 0===d?2:d;t.beginPath(),t.moveTo(c,i),t.lineTo(r,a),t.strokeStyle=s,t.lineWidth=x,t.stroke()},P=n(128),z=function(){var t=Object(c.useRef)(),e=Object(c.useRef)(),n=Object(a.b)(),i=Object(c.useState)([]),r=Object(X.a)(i,2),o=r[0],d=r[1],x=Object(c.useState)([]),l=Object(X.a)(x,2),j=l[0],f=l[1],b=Object(c.useState)([]),y=Object(X.a)(b,2),h=y[0],p=y[1],g=Object(a.c)((function(t){return t})).flights,w=g.filter((function(t){return t.active}))[0]?g.filter((function(t){return t.active}))[0].fid:null;Object(c.useEffect)((function(){d(t.current)}),[t]),Object(c.useEffect)((function(){o===t.current&&(o.width=e.current.offsetWidth,o.height=window.innerHeight,f(o.getContext("2d")))}),[o]),Object(c.useEffect)((function(){j&&j.canvas&&(j.clearRect(0,0,o.width,o.height),g.filter((function(t){return t.active})).map((function(t){var e=t.points;return I(j,e,{color:"red"})})))}),[j,g,o.width,o.height]);return Object(N.jsxs)(O.a,{className:"boxMap",ref:e,component:"main",sx:{flexGrow:1},children:[Object(N.jsx)(v.a,{}),Object(N.jsx)(P.a,{variant:"h4",sx:{position:"absolute",margin:1},children:w&&"F-".concat(w)}),Object(N.jsx)("canvas",{onClick:function(t){var e=t.target.getBoundingClientRect(),c=t.clientX-e.left,i=t.clientY-e.top;if(p([].concat(Object(s.a)(h),[{x:c,y:i}])),j&&j.canvas){var r=g.filter((function(t){return t.active})).map((function(t){return t.points}))[0];n({type:u,payload:{fid:w,points:{x:c,y:i}}}),I(j,[].concat(Object(s.a)(r),[{x:c,y:i}]),{color:"red"})}},ref:t})]})},B=n(130),J=function(){return Object(N.jsx)(a.a,{store:b,children:Object(N.jsxs)(O.a,{sx:{display:"flex"},children:[Object(N.jsx)(B.a,{children:Object(N.jsx)(v.a,{children:Object(N.jsx)(P.a,{variant:"h6",noWrap:!0,component:"div",children:"Drone Flight Planner App"})})}),Object(N.jsx)(T,{}),Object(N.jsx)(z,{})]})})};n(89);r.a.render(Object(N.jsx)(J,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.0b1eab38.chunk.js.map